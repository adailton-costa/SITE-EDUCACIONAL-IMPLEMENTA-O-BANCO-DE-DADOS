<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cursos - EducaMais</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&family=Fredoka+One&display=swap" rel="stylesheet">
    <link rel = "stylesheet" href = "pagina-de-cursos.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <div class="logo">EducaUP</div>
        <nav>
            <ul>
                <li><a href="pagina-principal.html"><i class="fas fa-home"></i>In√≠cio</a></li>
                <li><a href="pagina-de-cursos.html"><i class="fas fa-book"></i>Cursos</a></li>
                <li><a href="#"><i class="fas fa-info-circle"></i> Sobre</a></li>
                <li><a href="#"><i class="fas fa-envelope"></i> Contato</a></li>
            </ul>
        </nav>
    </header>

    <section class="page-hero">
        <h1>Nossos Cursos</h1>
        <p>Encontre o curso perfeito para seu aprendizado</p>
    </section>

    <section class="course-filter">
        <div class="filter-options">
            <div class="filter-group">
                <label for="category">Categoria</label>
                <select id="category">
                    <option value="all">Todas as categorias</option>
                    <option value="math">Matem√°tica</option>
                    <option value="science">Ci√™ncias</option>
                    <option value="language">L√≠nguas</option>
                    <option value="history">Hist√≥ria</option>
                    <option value="art">Artes</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="level">N√≠vel</label>
                <select id="level">
                    <option value="all">Todos os n√≠veis</option>
                    <option value="beginner">Iniciante</option>
                    <option value="intermediate">Intermedi√°rio</option>
                    <option value="advanced">Avan√ßado</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="duration">Dura√ß√£o</label>
                <select id="duration">
                    <option value="all">Qualquer dura√ß√£o</option>
                    <option value="short">Curto (1-5 horas)</option>
                    <option value="medium">M√©dio (5-20 horas)</option>
                    <option value="long">Longo (20+ horas)</option>
                </select>
            </div>
        </div>
    </section>

    <section class="courses-container">
        <div class="courses-grid">
            <!-- Curso 1 -->
            <div class="course-card">
                <div class="course-image" style="background-color: #f28482;">
                    üßÆ
                </div>
                <div class="course-content">
                    <span class="course-category">Matem√°tica</span>
                    <h3 class="course-title">Matem√°tica B√°sica</h3>
                    <p class="course-description">Domine os fundamentos da matem√°tica com exerc√≠cios pr√°ticos e exemplos do cotidiano.</p>
                    <div class="course-meta">
                        <span class="course-duration">10 horas</span>
                        <span class="course-level">Iniciante</span>
                    </div>
                    <a href="formulario-matematica.html" class="enroll-btn">Matricular-se</a>
                </div>
            </div>
    </section>

    <footer>
        <div class="social-links">
            <a href="#"><i class="fab fa-facebook"></i> Facebook</a>
            <a href="#"><i class="fab fa-instagram"></i> Instagram</a>
            <a href="#"><i class="fab fa-youtube"></i> YouTube</a>
            <a href="#"><i class="fab fa-linkedin"></i> LinkedIn</a>
        </div>
        <p class="copyright">¬© 2025 EducaUP </p>
    </footer>

    <script>
        // Filtragem de cursos (funcionalidade b√°sica)
        document.addEventListener('DOMContentLoaded', function() {
            const categoryFilter = document.getElementById('category');
            const levelFilter = document.getElementById('level');
            const durationFilter = document.getElementById('duration');
            const courseCards = document.querySelectorAll('.course-card');

            function filterCourses() {
                const categoryValue = categoryFilter.value;
                const levelValue = levelFilter.value;
                const durationValue = durationFilter.value;

                courseCards.forEach(card => {
                    const cardCategory = card.querySelector('.course-category').textContent.toLowerCase();
                    const cardLevel = card.querySelector('.course-level').textContent.toLowerCase();
                    const cardDuration = parseInt(card.querySelector('.course-duration').textContent);

                    // Verificar filtros
                    const categoryMatch = categoryValue === 'all' || 
                                        (categoryValue === 'math' && cardCategory.includes('matem√°tica')) ||
                                        (categoryValue === 'science' && cardCategory.includes('ci√™ncias')) ||
                                        (categoryValue === 'language' && cardCategory.includes('l√≠nguas')) ||
                                        (categoryValue === 'history' && cardCategory.includes('hist√≥ria')) ||
                                        (categoryValue === 'art' && cardCategory.includes('artes'));

                                        // Inclui qualquer categoria personalizada que n√£o seja das pr√©-definidas
                                                     (!cardCategory.includes('matem√°tica') && 
                                                      !cardCategory.includes('ci√™ncias') && 
                                                      !cardCategory.includes('l√≠nguas') && 
                                                      !cardCategory.includes('hist√≥ria') && 
                                                      !cardCategory.includes('programa√ß√£o'));

                    const levelMatch = levelValue === 'all' || 
                                     (levelValue === 'beginner' && cardLevel.includes('iniciante')) ||
                                     (levelValue === 'intermediate' && cardLevel.includes('intermedi√°rio')) ||
                                     (levelValue === 'advanced' && cardLevel.includes('avan√ßado')) ||
                                     (levelValue === 'all' && cardLevel.includes('todos os n√≠veis'));

                    let durationMatch = true;
                    if (durationValue === 'short') {
                        durationMatch = cardDuration <= 5;
                    } else if (durationValue === 'medium') {
                        durationMatch = cardDuration > 5 && cardDuration <= 20;
                    } else if (durationValue === 'long') {
                        durationMatch = cardDuration > 20;
                    }

                    // Mostrar/ocultar cards baseado nos filtros
                    if (categoryMatch && levelMatch && durationMatch) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            }

            // Adicionar event listeners para os filtros
            categoryFilter.addEventListener('change', filterCourses);
            levelFilter.addEventListener('change', filterCourses);
            durationFilter.addEventListener('change', filterCourses);
        });
    </script>

    <!-- Script do Firebase ‚Äî FORA do script acima -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
  import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAQ0s0EpWm2kmPAC3z0bNphLyjcGieWIBM",
    authDomain: "siteweb-ca3bc.firebaseapp.com",
    projectId: "siteweb-ca3bc",
    storageBucket: "siteweb-ca3bc.firebasestorage.app",
    messagingSenderId: "312050528441",
    appId: "1:312050528441:web:70abee0173951c08402b68"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  const coursesGrid = document.querySelector('.courses-grid');

  const categoriaExibicao = {
    matematica: "Matem√°tica",
    ciencias: "Ci√™ncias",
    ingles: "L√≠nguas",
    historia: "Hist√≥ria",
    artes: "Artes",
    portugues: "L√≠nguas",
    programacao: "Ci√™ncias",
  };

  const nivelExibicao = {
    iniciante: "Iniciante",
    intermediario: "Intermedi√°rio",
    avancado: "Avan√ßado"
  };

  async function carregarCursosDinamicos() {
    try {
      const snapshot = await getDocs(collection(db, "cursos"));
      snapshot.forEach(doc => {
        const c = doc.data();
         
        // Se for "outros", mostra o nome da disciplina
        const categoriaTexto = c.categoria === 'outros' 
            ? (c.nomeDisciplina || c.titulo || "Outros")  // Pega nomeDisciplina ou t√≠tulo
            : (categoriaExibicao[c.categoria] || "Outros");

        const nivelTexto = nivelExibicao[c.nivel] || "Iniciante";
        const duracaoTexto = `${c.cargaHoraria || 10} horas`;

        const card = document.createElement('div');
        card.className = 'course-card';
        card.innerHTML = `
          <div class="course-image" style="background-color: ${c.corDestaque || '#4a90e2'}; display: flex; align-items: center; justify-content: center; font-size: 2rem;">
            ${c.emoji || 'üìö'}
          </div>
          <div class="course-content">
            <span class="course-category">${categoriaTexto}</span>
            <h3 class="course-title">${c.titulo}</h3>
            <p class="course-description">${c.descricaoCurta || 'Novo curso dispon√≠vel!'}</p>
            <div class="course-meta">
              <span class="course-duration">${duracaoTexto}</span>
              <span class="course-level">${nivelTexto}</span>
            </div>
            <a href="professor-formulario-curso.html?id=${doc.id}" class="enroll-btn">Matricular-se</a>
          </div>
        `;
        coursesGrid.appendChild(card);
      });

      // Reaplicar filtros ap√≥s carregar
      if (typeof window.filterCourses === 'function') {
        window.filterCourses();
      }
    } catch (error) {
      console.error("Erro ao carregar cursos do Firebase:", error);
    }
  }

  carregarCursosDinamicos();
</script>
</body>
</html>